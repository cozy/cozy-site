// App main navigation / header
//

@media screen and (min-width: 0rem)
	.col-xs-3
		min-width auto !important
		margin 0 !important

.announcement
	display flex
	align-items: center
	justify-content center
	background-color $clr-primary
	color $clr-light
	padding .5rem
	box-shadow 0 3px 10px rgba(0, 0, 0, .23)
	font-size $fs-sm

	a
		color $clr-light
		
.announcement-image
	font-size 2rem
	margin-right 1rem
		
.announcement-text
	font-weight bold

@media (max-width: 980px)
	.announcement
		display none

.siteNavigation
	display none
	padding-right 10px
	padding-left 10px
	padding-top .5em
	padding-bottom .5em
	
	.btn-link
		padding-left 1rem
		padding-right 1rem
	
		&.switchLang
			cursor default
			
			&:hover
				color $clr-base

			a
				cursor pointer
				color inherit
			
			span
				color $clr-darkgrey

.siteNavigation-logoContainer
	flex-grow 1
	margin-right auto
	
.siteNavigation-ctaContainer
	text-align right

.siteLogo
	max-width 100px
	max-height 32px
	fill: $clr-primary

// Submenu
.siteNavigation
	.submenu
		position relative

	.submenu-level
		visibility hidden
		opacity 0
		position absolute
		z-index -1
		top calc(100% - 1rem)
		left 50%
		transform translateX(-50%)
		min-width 25rem
		box-shadow 0 2px 15px 0 rgba(50, 54, 63, 0.2)
		background-color $clr-lighter
		border-radius 3px
		padding 1rem
		text-align left
		transition: all 0.3s ease-in-out 0s, z-index 0s ease-in-out 0.01s;

		&:before
			content ''
			position absolute
			top -8px
			left 50%
			transform translateX(-50%)
			width 0
			height 0
			border-style solid
			border-width 0 8px 8px 8px
			border-color transparent transparent $clr-lighter transparent

		a
			display flex
			align-items center
			margin-bottom 1rem
			border-radius 3px
			padding .5rem
			color $clr-darkgrey

			&:hover
				background-color $clr-light

			&:last-child
				margin-bottom 0

	.submenu:hover .submenu-level
		visibility visible
		opacity 1
		top 100%
		z-index 2
		transition-delay 0s, 0s, 0.3s

	.submenu-itemIcon
		flex-basis 4rem
		margin-right 1rem

		img
			width 100%

	.submenu-itemTitle
		margin-bottom 0
		color $clr-darkgrey
		font-size 1rem
		text-align left

	.submenu-itemDesc
		margin-bottom 0
		color $clr-darkgrey
		line-height 1.3
		text-transform none

// Contrast mode
//
+bp-min(lg)
	.siteHeader.contrast
		.siteNavigation
			.btn-link
				color $nav-link-clr
				+hover-state()
					color $nav-link-hover-clr


// Site Header fixed position (except on homepage)
//
.siteHeader
	position relative
	z-index 2
	background-color $clr-lighter


	body:not(.is-homepage)  &
		position fixed
		z-index 5
		top 0px
		left 0px
		width 100%


// Small screens navigation / header
//

.siteHeader-sm
	position relative
	z-index 2

.siteHeader-sm-inner
	position relative
	z-index 2
	padding 16px
	background-color $clr-lighter


// Animated hamburger menu icon
.siteHeader-hamburger
	position absolute
	top 25px
	right 20px
	width 17px
	height 14px
	cursor pointer
	span
		position absolute;
		left 0;
		width 100%;
		height 3px;
		background-color $clr-darker;
		border-radius 2px;
		opacity 1;
		transition $transition-duration $transition-easing;

		&:nth-child(1)
			top 0px;
		&:nth-child(2)
		&:nth-child(3)
			top 6px
		&:nth-child(4)
			top 12px

	&.is-active
		span
			&:nth-child(1)
				top: 6px
				left: 50%
				width: 0%
			&:nth-child(2)
				transform: rotate(45deg)
			&:nth-child(3)
				transform: rotate(-45deg)
			&:nth-child(4)
				top: 12px
				width: 0%
				left: 50%

// Menu list
.siteNavigation-sm
	@extend .list-unstyled
	position absolute
	width 100%
	margin-bottom 0
	background-color lighten($clr-light, 30%)
	border-top: $border-width solid darken($clr-light, 5%)

	// Menu opening animation
	transform translateY(-100%)
	transition transform $transition-duration $transition-easing

	&.is-open
		transform translateY(0)

.siteNavigation-sm-item
	text-align center

	&::before
		content ""
		display block
		margin 0 auto
		width 90%
		height 1px
		background-color darken($clr-light, 5%)

	a
		display block
		font-family $ff-emphasis
		line-height ($lh * 3)
		color: $clr-darker
		text-transform uppercase

	&.highlighted
		a
			font-weight $fw-bold
			color: $clr-lighter
			background-color darken($clr-primary, 20%)

	&:first-child::before
	&.highlighted::before
			display none

// Show or hide header version between breakpoints
//

+bp-min(lg)
	.siteNavigation
		display block
