// App main navigation / header
//

@media screen and (min-width: 0rem)
	.col-xs-3
		min-width auto !important
		margin 0 !important

.announcement
	display flex
	align-items: center
	justify-content center
	background-color $clr-primary
	color $clr-light
	padding 1rem
	box-shadow 0 3px 10px rgba(0, 0, 0, .23)
	font-size $fs-announcement

	a
		color $clr-light

.announcement-image
	font-size 2rem
	margin-right 1rem

	img
		display block
		max-height 2rem

.announcement-text
	font-weight bold

@media (max-width: 980px)
	.announcement
		display none

.siteNavigation
	display none
	padding-right 10px
	padding-left 10px
	padding-top .5em
	padding-bottom .5em

	.btn-link
		padding-left 1rem
		padding-right 1rem

		&.switchLang
			cursor default

			&:hover
				color $clr-base

			a
				cursor pointer
				color inherit

			span
				color $clr-darkgrey

.siteNavigation-logoContainer
	flex-grow 1
	margin-right auto

.siteNavigation-ctaContainerWrapper
	height 3rem
	overflow hidden

.siteNavigation-ctaContainer
	position relative
	right 0
	top 0
	display flex
	flex-direction column
	justify-content space-between
	text-align right
	transition top 500ms ease
	& a
		margin-top 2rem
		&:first-child
			margin-top 0
	&.scrolled
		top -4.8rem

.siteLogo
	max-width 100px
	max-height 48px
	fill: $clr-primary

.red-dot
	position relative
	left 3px
	bottom 6px

.icon-new
	height 1rem


// Submenu
.siteNavigation
	.submenu
		position relative

	.submenu-level
		box-sizing border-box
		visibility hidden
		opacity 0
		position absolute
		z-index -1
		top calc(100% - 1rem)
		left 50%
		transform translateX(-50%)
		min-width 22.5rem
		box-shadow 0 2px 15px 0 rgba(50, 54, 63, 0.2)
		background-color $clr-lighter
		border-radius 8px
		padding .5rem 1rem
		text-align left
		transition all 0.3s ease-in-out 0s, z-index 0s ease-in-out 0.01s
		list-style none

		&:before
			content ''
			position absolute
			top -7px
			left 50%
			transform translateX(-50%)
			width 0
			height 0
			border-style solid
			border-width 0 8px 8px 8px
			border-color transparent transparent $clr-lighter transparent

		.submenu-listItem
			border-radius 3px
			padding 1rem 0
			color $clr-darkgrey
			border-bottom 1px solid $clr-lightgrey

			&:hover
				background-color $clr-light

			&:last-child
				margin-bottom 0
				border-bottom 0

	.submenu:hover .submenu-level
		visibility visible
		opacity 1
		top 100%
		z-index 2
		transition-delay 0s, 0s, 0.3s

	.submenu-item
			display flex
			align-items center
			padding 0 .5rem

	.submenu-itemIcon
		margin-right 1rem

		img
			width 48px
			max-width none

	.submenu-itemTitle
		margin-bottom 0
		color $clr-darkgrey
		font-size 1rem
		text-align left

	.submenu-itemDesc
		margin-bottom 0
		color $clr-darkgrey
		line-height 1.3
		text-transform none

	.submenu-app
			display flex
			align-items center
			flex-wrap wrap
			margin-top 1rem
			padding-left 4rem

			.store-icons
				display block
				height 18px

			a
				position relative

				&:first-child
					margin-right 1rem

			figure
				margin-bottom 0

// Contrast mode
//
+bp-min(lg)
	.siteHeader.contrast
		.siteNavigation
			.btn-link
				color $nav-link-clr
				+hover-state()
					color $nav-link-hover-clr


// Site Header fixed position
//
.siteHeader
	position relative
	z-index 2
	background-color $clr-lighter
	position fixed
	z-index 5
	top 0px
	left 0px
	width 100%


// Small screens navigation / header
//

.siteHeader-sm
	position relative
	z-index 2

.siteHeader-sm-inner
	position relative
	z-index 2
	padding 16px
	background-color $clr-lighter


// Animated hamburger menu icon
.siteHeader-hamburger
	position absolute
	top 7px
	right 4px
	width 48px
	height 48px
	cursor pointer
	display flex
	flex-direction column
	align-items center
	justify-content center
	span
		display block
		width 17px
		height 3px
		margin 2px 0
		background-color $clr-darker
		border-radius 2px
		transition $transition-duration $transition-easing

	&.is-active
		span
			&:nth-child(1)
				width 0
				opacity 0
			&:nth-child(2)
				transform rotate(45deg)
			&:nth-child(3)
				transform rotate(-45deg) translate(5px, -5px)

// Menu list
.siteNavigation-sm
	@extend .list-unstyled
	position fixed
	width 100%
	height 100%
	overflow auto
	padding-top 60px
	margin-bottom 0
	background-color lighten($clr-light, 30%)
	border-top: $border-width solid darken($clr-light, 5%)

	// Menu opening animation
	bottom 100%
	transition bottom $transition-duration $transition-easing

	&.is-open
		bottom 0

.siteNavigation-sm-item
	text-align center

	&::before
		content ""
		display block
		margin 0 auto
		width 90%
		height 1px
		background-color darken($clr-light, 5%)

	a
		display block
		font-family $ff-emphasis
		line-height ($lh * 3)
		color: $clr-darker
		text-transform uppercase

	&.highlighted
		a
			font-weight $fw-bold
			color: $clr-lighter
			background-color darken($clr-primary, 20%)

	&:first-child::before
	&.highlighted::before
			display none

// Show or hide header version between breakpoints
//

+bp-min(lg)
	.siteNavigation
		display block
